var:
	semaforo: signal: 1
	incrocio: singal: 1
	
process_semaforo(){
repeat
	wait(incrocio);
	wait(semaforo);
	sleep(5);
	signal(semaforo):
forever
}

process_car_s1(){
	int k = rand(0..3);
	if(value(semaforo)==1){
		if(k==1 || k==3){
			while(value(semaforo)==0) do nothing
		}
	}else{
		if(k==0 || k==2){
			while(value(semaforo)==1) do nothing
		}
	}
	wait(incrocio);
	<PASSA>
	sleep(1);
	signal(incrocio);
}