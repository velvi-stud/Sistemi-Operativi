#include <pthread.h> 
#include<stdio.h> 
#include<stdlib.h>
void* thread1(void *arg) { 
int *error; 
error=(int*)arg;
printf("Sono il primo thread. Parametro = %d\n", *(int*)arg); 
pthread_exit((void*)error);
}
void* thread2(void *arg) { 
static int error; 
error=*(int*)(arg);
printf("Sono il secondo thread. Parametro = %d\n",error); 
pthread_exit((void*)&error);
}

int main()
{
pthread_t th1, th2; 
int i1 = 1, i2=2; 
void* uscita;
pthread_create(&th1, NULL, thread1,(void*)&i1); 
pthread_create(&th2, NULL, thread2,(void*)&i2); 
pthread_join(th1, &uscita);
printf("stato = %d\n", *(int*)uscita); 
pthread_join(th2, &uscita); 
printf("stato = %d\n", *(int*)uscita); 
exit(0);
}
