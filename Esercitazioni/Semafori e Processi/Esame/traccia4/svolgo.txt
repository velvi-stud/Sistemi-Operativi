cost:
	N: int: 10
	M: int: 5 
	K: int: 5
	S: int: 4 //collab.
var:
	chitarra: signal: M*K
	collaboratori: signal: S
	attenzione[N]: array of signal: all of 0
	posti: signal: N
	mutex: signal: 1
	pers: int: 0
	Z: int: 15 // tutti gli allievi

process_mattep(){
repeat
	if(Z>=N){
		while(pers<N) do nothing
		while(value(chitarre)>(M*K)-N) do nothing
		Z=Z-N;
	}else{
		while(pers<Z) do nothing
		while(value(chitarre)>(M*K)-Z) do nothing
		Z=0;
	}
	
	for i=0 to N
		signal(attenzione[i]);
	<SUONA>

until Z!=0
}


process_persone(){

	wait(posti);

	wait(mutex);
	int k = pers;
	pers++;
	signal(mutex);
	
	wait(collaboratori);
	wait(chitarra); // per hp. il n. delle chit. >= n. dei posti
	signal(collaboratori);
	
	wait(attenzione[K]);
	<SUONA>
	
	<POSA CHITARRA>
	signal(chitarra);

	wait(mutex);
	<FINE>
	pers--;
	signal(mutex);

	signal(posti);

}